<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lunaria Factory｜配信者・VTuber・動画投稿者・クリエイターのコミュニティ</title>
  <meta name="description" content="Lunaria Factoryは、配信者・VTuber・動画投稿者・イラストレーター・音楽クリエイターなど発信活動を行う人のためのコミュニティです。活動者同士がつながり、それぞれのペースで活動できる場所を目指しています。" />
  <link rel="icon" href="images/icon.png" />
  <link rel="stylesheet" href="css/style.css" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Lunaria Factory",
    "url": "https://lunariafactory.github.io/official",
    "logo": "https://lunariafactory.github.io/official/images/icon.png",
    "sameAs": [
      "https://x.com/LunariaFactory"
    ],
    "description": "配信者・VTuber・動画投稿者・クリエイターのためのコミュニティ"
  }
  </script>
</head>

<body class="page-index">
  <div class="bg" aria-hidden="true"></div>

  <div class="wrap">
    <!-- HERO -->
    <header>
      <div class="glass hero">
        <div class="brand">
          <h1>Lunaria Factory</h1>
          <div class="sub">STREAMERS &amp; VIDEO CREATORS COMMUNITY</div>
          <div class="tagline">配信・動画投稿・創作活動を行う人のための、活動拠点。</div>
        </div>
      </div>
    </header>

    <!-- PICK UP -->
    <section class="section">
      <h2 class="h">PICK UP</h2>
      <p class="desc">活動中の配信者・動画投稿者</p>

      <div class="grid4">
        <article class="glass member">
          <div class="thumb"><img src="images/monii.png" alt="VTuber もにぃ"></div>
          <div class="name">もにぃ</div>
          <div class="social">
            <a href="https://www.youtube.com/channel/UCU_nJbpHRZyZKtH7DO170MQ" aria-label="YouTube">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31.7 31.7 0 0 0 2 12a31.7 31.7 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.7 31.7 0 0 0 22 12a31.7 31.7 0 0 0-.4-4.8Z" fill="#ff2e2e"/>
                <path d="M10.2 15.3V8.7L15.8 12l-5.6 3.3Z" fill="#fff"/>
              </svg>
            </a>
            <a href="https://www.twitch.tv/monii_friends" aria-label="Twitch">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 3h18v11l-5 5h-4l-2 2H8v-2H5V6L4 3Zm3 3v10h3v2l2-2h5l3-3V6H7Zm9 2h2v5h-2V8Zm-5 0h2v5h-2V8Z" fill="#7b3cff"/>
              </svg>
            </a>
            <a href="https://x.com/monii_friends" aria-label="X">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.7 3H21l-6.6 7.5L22 21h-6.2l-4.9-6.4L5.3 21H3l7.1-8.1L2 3h6.3l4.4 5.8L18.7 3Zm-1.1 16h1.3L7.2 4.9H5.8l11.8 14.1Z" fill="#111"/>
              </svg>
            </a>
          </div>
        </article>

        <article class="glass member">
          <div class="thumb"><img src="images/utsume.png" alt="VTuber 仁成ウツメ"></div>
          <div class="name">仁成ウツメ</div>
          <div class="social">
            <a href="https://www.youtube.com/channel/UCs3VAhs3IFq8czVg2OGVQtg" aria-label="YouTube">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31.7 31.7 0 0 0 2 12a31.7 31.7 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.7 31.7 0 0 0 22 12a31.7 31.7 0 0 0-.4-4.8Z" fill="#ff2e2e"/>
                <path d="M10.2 15.3V8.7L15.8 12l-5.6 3.3Z" fill="#fff"/>
              </svg>
            </a>
          </div>
        </article>

        <article class="glass member">
          <div class="thumb"><img src="images/pepe.png" alt="VTuber ぺぺ"></div>
          <div class="name">ぺぺ</div>
          <div class="social">
            <a href="https://www.twitch.tv/pepero0222" aria-label="Twitch">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 3h18v11l-5 5h-4l-2 2H8v-2H5V6L4 3Zm3 3v10h3v2l2-2h5l3-3V6H7Zm9 2h2v5h-2V8Zm-5 0h2v5h-2V8Z" fill="#7b3cff"/>
              </svg>
            </a>
            <a href="https://x.com/pepe_twitch2" aria-label="X">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.7 3H21l-6.6 7.5L22 21h-6.2l-4.9-6.4L5.3 21H3l7.1-8.1L2 3h6.3l4.4 5.8L18.7 3Zm-1.1 16h1.3L7.2 4.9H5.8l11.8 14.1Z" fill="#111"/>
              </svg>
            </a>
          </div>
        </article>

        <article class="glass member">
          <div class="thumb"><img src="images/nanashi.png" alt="ナナ氏。"></div>
          <div class="name">ナナ氏。</div>
          <div class="social">
            <a href="https://www.youtube.com/@N4n4sh1__maru__" aria-label="YouTube">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31.7 31.7 0 0 0 2 12a31.7 31.7 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.7 31.7 0 0 0 22 12a31.7 31.7 0 0 0-.4-4.8Z" fill="#ff2e2e"/>
                <path d="M10.2 15.3V8.7L15.8 12l-5.6 3.3Z" fill="#fff"/>
              </svg>
            </a>
            <a href="https://x.com/n4n4sh1__maru__" aria-label="X">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M18.7 3H21l-6.6 7.5L22 21h-6.2l-4.9-6.4L5.3 21H3l7.1-8.1L2 3h6.3l4.4 5.8L18.7 3Zm-1.1 16h1.3L7.2 4.9H5.8l11.8 14.1Z" fill="#111"/>
              </svg>
            </a>
          </div>
        </article>
      </div>

      <div class="centerCta">
        <a class="btn-soft" href="streamers.html">
          配信・動画投稿者一覧を見る
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(47,103,255,.90)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </div>
    </section>

    <!-- 配信予定 + クリエイター -->
    <section class="section">
      <div class="two">
        <div>
          <h2 class="panelTitle" style="margin:0 0 10px;">配信予定</h2>
          <div id="scheduleSub" class="panelSub" style="margin:0 0 14px;">読み込み中…</div>

          <div class="glass panel">
            <div id="scheduleItems">
              <!-- JSで差し替え -->
              <div class="item">
                <div class="plus">＋</div>
                <div class="itemText">読み込み中…</div>
              </div>
            </div>

            <div class="note">※ 配信を行っていない動画投稿者も活動しています</div>

            <div class="panelCta">
              <a class="btn-soft" href="schedule.html">
                配信予定一覧を見る
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(47,103,255,.90)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
            </div>
          </div>
        </div>

        <div>
          <h2 class="panelTitle" style="margin:0 0 10px;">クリエイター</h2>
          <div class="panelSub" style="margin:0 0 14px;">イラスト・音楽・デザイン・その他創作活動を行うクリエイター</div>

          <div class="glass panel">
            <div class="miniGrid">
              <div class="mini">
                <div class="miniTop">
                  <img src="images/yamicha.png" alt="やみちゃ">
                  <div>
                    <p class="miniName">やみちゃ</p>
                    <div class="miniRole">HP作成</div>
                  </div>
                </div>
              </div>
              <div class="mini">
                <div class="miniTop">
                  <img src="images/sample2.png" alt="準備中">
                  <div>
                    <p class="miniName">準備中</p>
                    <div class="miniRole">動画編集</div>
                  </div>
                </div>
              </div>
              <div class="mini">
                <div class="miniTop">
                  <img src="images/sample2.png" alt="準備中">
                  <div>
                    <p class="miniName">準備中</p>
                    <div class="miniRole">MIX</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="panelCta">
              <a class="btn-soft" href="creators.html">
                クリエイター一覧を見る
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M9 6l6 6-6 6" fill="none" stroke="rgba(47,103,255,.90)" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section class="section">
      <div class="glass about">
        <div class="aboutInner">
          <div>
            <h2 class="aboutH">ABOUT Lunaria Factory</h2>
            <p class="aboutP">
              Lunaria Factory は、配信・動画投稿などの発信活動を行う人、<br>
              そして創作活動を行うクリエイターのためのコミュニティです。<br>
              “それぞれのペースで続けられる活動拠点” を目指しています。
            </p>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="foot">
        <div>© Lunaria Factory</div>
        <div class="footlinks">
          <a class="footbtn" href="https://x.com/LunariaFactory">公式X</a>
          <a class="footbtn" href="mailto:lunariafactory.official@gmail.com">お問い合わせ <span class="small">(メール)</span></a>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // ---- 配信予定（中間型）: JSONを読んで直近1件表示 ----
    (async () => {
      const sub = document.getElementById("scheduleSub");
      const items = document.getElementById("scheduleItems");

      const fmtJp = (iso) => {
        const d = new Date(iso);
        if (Number.isNaN(d.getTime())) return { dateText: "日時未定", timeText: "" };
        const y = d.getFullYear();
        const m = String(d.getMonth() + 1).padStart(2, "0");
        const day = String(d.getDate()).padStart(2, "0");
        const w = ["日","月","火","水","木","金","土"][d.getDay()];
        const hh = String(d.getHours()).padStart(2, "0");
        const mm = String(d.getMinutes()).padStart(2, "0");
        return { dateText: `${y}/${m}/${day}（${w}）`, timeText: `${hh}:${mm}` };
      };

      const pickPlatform = (url) => {
        const u = (url || "").toLowerCase();
        if (u.includes("youtube.com") || u.includes("youtu.be")) return "YouTube";
        if (u.includes("twitch.tv")) return "Twitch";
        return "Link";
      };

      const platformIcon = (platform) => {
        if (platform === "YouTube") {
          return `
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31.7 31.7 0 0 0 2 12a31.7 31.7 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31.7 31.7 0 0 0 22 12a31.7 31.7 0 0 0-.4-4.8Z" fill="#ff2e2e"/>
              <path d="M10.2 15.3V8.7L15.8 12l-5.6 3.3Z" fill="#fff"/>
            </svg>
          `;
        }
        if (platform === "Twitch") {
          return `
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M4 3h18v11l-5 5h-4l-2 2H8v-2H5V6L4 3Zm3 3v10h3v2l2-2h5l3-3V6H7Zm9 2h2v5h-2V8Zm-5 0h2v5h-2V8Z" fill="#7b3cff"/>
            </svg>
          `;
        }
        return `
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M10 14a2 2 0 1 0 0 4h2a2 2 0 0 0 0-4h-2Zm0-8a2 2 0 1 0 0 4h2a2 2 0 1 0 0-4h-2Z" fill="#2f67ff"/>
          </svg>
        `;
      };

      try {
        const res = await fetch("data/schedule.json", { cache: "no-store" });
        if (!res.ok) throw new Error("fetch failed");
        const data = await res.json();

        const list = Array.isArray(data) ? data : (Array.isArray(data.events) ? data.events : []);
        const now = Date.now();

        const future = list
          .filter(e => e && e.start && (new Date(e.start)).getTime() >= now - 5 * 60 * 1000)
          .sort((a,b) => (new Date(a.start)).getTime() - (new Date(b.start)).getTime());

        if (!future.length) {
          sub.textContent = "次の配信は未定です";
          items.innerHTML = `
            <div class="item">
              <div class="plus">＋</div>
              <div class="itemText">最新の予定はまだありません</div>
            </div>
          `;
          return;
        }

        const e = future[0];
        const { dateText, timeText } = fmtJp(e.start);
        const name = e.name || "配信者";
        const title = e.title || "配信予定";
        const url = e.url || "#";
        const avatar = e.avatar || "images/sample2.png";
        const platform = pickPlatform(url);

        sub.textContent = "次の配信";

        items.innerHTML = `
          <a class="lfTap" href="${url}" target="_blank" rel="noopener noreferrer">
            <div class="lfNext">
              <div class="lfWhen">
                <div class="lfDate">${dateText}</div>
                <div class="lfTime">${timeText}</div>
              </div>

              <div class="lfMain">
                <img class="lfAvatar" src="${avatar}" alt="${name}">
                <div class="lfText">
                  <div class="lfName">${name}</div>
                  <div class="lfTitle">${title}（${platform}）</div>
                </div>
              </div>

              <div class="lfLink">
                <div class="iconBtn" aria-label="${platform}">
                  ${platformIcon(platform)}
                </div>
              </div>
            </div>
          </a>
        `;
      } catch (err) {
        sub.textContent = "読み込みに失敗しました";
        items.innerHTML = `
          <div class="item">
            <div class="plus">＋</div>
            <div class="itemText">schedule.json を確認してね</div>
          </div>
        `;
      }
    })();
  </script>
</body>
</html>
